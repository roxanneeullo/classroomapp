<h2>New Student</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>

	<%= devise_error_messages! %>
	
	<% for role in User::ROLES %>
		<%= check_box_tag "user[roles][#{role}]", role, @user.roles.include?(role), {:name => "user[roles][]"} %>
		<%= label_tag "user_roles_#{role}", role.to_s.humanize %><br />
	<% end %>
	<%= hidden_field_tag "user[roles][]", "" %>



	<div class=" col-md-9 col-lg-9 "> 
		<table class="table table-user-information">
			<tbody>
				<tr>
  				<td><%= f.label :email %></td>
   				<td><%= f.email_field :email, autofocus: true, class: "form-control" %></td>
				</tr>
				<tr>
					<td><%= f.label :username %></td>
					<td> <%= f.text_field :username , class: "form-control"%></td>
				</tr>
				<tr>
					<td><%= f.label :password %></td>
					<td><% if @minimum_password_length %>
							<em>(<%= @minimum_password_length %> characters minimum)</em>
    					<% end %>
   				 	 	<%= f.password_field :password, autocomplete: "off", class: "form-control" %>
					</td>
				</tr>
				<tr>
					<td><%= f.label :password_confirmation %></td>
					<td><%= f.password_field :password_confirmation, autocomplete: "off", class: "form-control" %></td>
				</tr>
				<tr>
					<td><%= f.label :first_name %></td>
					<td><%= f.text_field :first_name , class: "form-control"%></td>
				</tr>
				<tr>
					<td><%= f.label :last_name %></td>
					<td><%= f.text_field :last_name, class: "form-control" %></td>
				</tr>
				<tr>
					<td><%= f.label :gender %></td>
					<td><%= f.select(:gender, options_for_select(['Male', 'Female'], :selected => f.object.gender), 
		     				  {},class: "chzn-select form-control") %></td>
				</tr>
				<tr>
					<td><%= f.label :birthday %></td>
					<td><%= f.date_select :birthday, class: "form-control" %></td>
				</tr>
				<tr>
					<td><%= f.label :contact_number %></td>
					<td><%= f.text_field :contact_number , class: "form-control"%></td>
				</tr>			
				<tr>
				</tr>
				<tr>
					<%= f.fields_for :students do |s| %>
						<td><%= s.label :department_id %></td>
						<td><%= s.collection_select(:department_id, Department.order('name asc'), :id, 
							:name, { :prompt => 'Select Department' }, class: "form-control")  %></td>
				</tr>
				<tr>
					<td><%= s.label :course_id %></td>
					<td><%= s.collection_select(:course_id, Course.order('name asc'), :id, :name, 
							{ :prompt => 'Select Course' }, class: "form-control")  %></td>
				</tr>
				<tr>
					<td><%= s.label :year_level %></td>
					<td><%= s.select(:year_level, options_for_select([1, 2, 3, 4]), 
							     				  {},class: "chzn-select form-control") %></td>
				</tr>
				<tr>
					<td><%= s.label :block_id %></td>
					<td><%= s.grouped_collection_select(:block_id, Department.order(:name), :blocks, :name, :id, :name, { :prompt => 'Select Block'}, class: "form-control")  %></td>
				</tr>
				<% end %>
			</tbody>
		</table>
	<div class="actions">
    <%= f.submit "Add Student", class: "btn btn-md btn-danger pull-right" %>
  </div>
</div>
<% end %>
